<script src="../simpletest.js"></script>
<script>
  /*
NATIVE DESCRIPTION

The fill() method fills (modifies) all the elements of an array from a start index (default zero) to an end index (default array length) with a static value. It returns the modified array.

arr.fill(value[, start[, end]])

Parameters

value
Value to fill an array.

start - Optional
Start index, defaults to 0.

end - Optional
End index, defaults to this.length.

Return value
The modified array.

The fill method takes up to three arguments value, start and end. The start and end arguments are optional with default values of 0 and the length of the this object.

If start is negative, it is treated as length+start where length is the length of the array. If end is negative, it is treated as length+end.

fill is intentionally generic, it does not require that its this value be an Array object.

fill is a mutable method, it will change this object itself, and return it, not just return a copy of it.

When fill gets passed an object, it will copy the reference and fill the array with references to that object.

REQUIREMENTS:

It should take a value with which to fill the array.
It should take an optional start index.
It should take an optional end index.
It should return the modified array.
If the start index is negative, it is treated as length + start.
If the end index is negative, it is treated as length + end.
If start is empty, its default value is 0.
if end is empty, its default falue is array.length.
  */
function fill(array, value, optionalStartIndex, optionalEndIndex) {
  let length = array.length;
  let startIndex = 0;
  let endIndex = array.length;
  if (optionalStartIndex) {
    if (optionalStartIndex < 0){
      optionalStartIndex = length + optionalStartIndex;
    }
    startIndex = optionalStartIndex;
  }
  if (optionalEndIndex){
    if (optionalEndIndex < 0){
      optionalEndIndex = length + optionalEndIndex;
    }
    endIndex = optionalEndIndex;
  }
  for (i = startIndex; i < endIndex; i ++){
    array[i] = value;
  }
  return array;
}

tests({
    'It should take an optional start index.': function () {
        let array = [1, 2, 3];
        fill(array, 5, 1);
        eq(array[0], 1);
        eq(array[1], 5);
        eq(array[2], 5);
    },
    'It should take an optional end index.': function () {
        let array = [1, 2, 3];
        fill(array, 5, 0, 2);
        eq(array[0], 5);
        eq(array[1], 5);
        eq(array[2], 3);
    },
    'It should fill in indexes between start and end with passed value.': function () {
        let array = [1, 2, 3];
        fill(array, 5, 0);
        eq(array[0], 5);
        eq(array[1], 5);
        eq(array[2], 5);
    },
    'It should return the modified array.': function () {
        let result = fill([1, 2, 3], 5);
        eq(result[0], 5);
        eq(result[1], 5);
        eq(result[2], 5);
    }
});

</script>
